[gd_scene load_steps=21 format=2]

[ext_resource path="res://fonts/tres/help_text.tres" type="DynamicFont" id=1]
[ext_resource path="res://scenes/levels/level1_world.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/scripts/phone_tilting.gd" type="Script" id=3]
[ext_resource path="res://scenes/scripts/help_background.gd" type="Script" id=5]
[ext_resource path="res://scenes/scripts/level1_world.gd" type="Script" id=7]
[ext_resource path="res://resources/rescue/sign_elder.png" type="Texture" id=8]
[ext_resource path="res://resources/rescue/sign_flooded.png" type="Texture" id=9]
[ext_resource path="res://resources/rescue/sign_stairs.png" type="Texture" id=10]
[ext_resource path="res://resources/rescue/sign_person_1.png" type="Texture" id=11]
[ext_resource path="res://resources/rescue/sign_no_stairs.png" type="Texture" id=12]
[ext_resource path="res://resources/rescue/sign_baby.png" type="Texture" id=13]
[ext_resource path="res://resources/rescue/sign_person_2.png" type="Texture" id=14]
[ext_resource path="res://resources/rescue/sign_person_3.png" type="Texture" id=15]
[ext_resource path="res://resources/rescue/sign_disability.png" type="Texture" id=16]
[ext_resource path="res://resources/shaders/help_background.tres" type="Material" id=18]
[ext_resource path="res://scenes/level_creation/boat.tscn" type="PackedScene" id=27]
[ext_resource path="res://scenes/finish_level.tscn" type="PackedScene" id=29]
[ext_resource path="res://scenes/menus/config_button.tscn" type="PackedScene" id=30]
[ext_resource path="res://resources/icons/phone.png" type="Texture" id=33]

[sub_resource type="SegmentShape2D" id=1]
a = Vector2( 530, 0 )
b = Vector2( 0, 0 )

[node name="Level1World" type="Node2D"]
pause_mode = 2
script = ExtResource( 7 )

[node name="World" parent="." instance=ExtResource( 2 )]

[node name="Boat" parent="." instance=ExtResource( 27 )]
pause_mode = 1
position = Vector2( 513.511, 806.166 )

[node name="Help" type="CanvasLayer" parent="."]
pause_mode = 2

[node name="Background" type="Node2D" parent="Help"]
visible = false
material = ExtResource( 18 )
position = Vector2( 0, 3.05176e-05 )
script = ExtResource( 5 )
node_path = "../../Boat/GUI/Frame"
poly_type = "Rectangle"

[node name="TextPower" type="RichTextLabel" parent="Help"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "La potencia de la lancha es controlada por la palanca a la derecha.
Arrastrando la palanca hacia arriba se aumenta la potencia y hacia abajo se reduce.
También puede controlarse con teclado u otro controlador (arriba y abajo)."
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextSteering" type="RichTextLabel" parent="Help"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "La lancha puede moverse rotando el dispositivo hacia la izquierda y hacia la derecha.
También puede controlarse con teclado u otro controlador (izquierda y derecha)."
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PhoneIcon" type="Sprite" parent="Help/TextSteering"]
position = Vector2( 480, 350 )
rotation = -1.5708
scale = Vector2( 0.25, 0.25 )
texture = ExtResource( 33 )
script = ExtResource( 3 )

[node name="TextDocking" type="RichTextLabel" parent="Help"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Explicación de anclaje"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextSave" type="RichTextLabel" parent="Help"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Una vez anclada la lancha, podemos empezar a subir personas.
En el mapa nos encontraremos distintos grupos de personas indicados con un cartel en la parte superior indicando su situación."
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextSigns" type="ScrollContainer" parent="Help"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
scroll_horizontal_enabled = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SignList" type="VBoxContainer" parent="Help/TextSigns"]
margin_right = 12.0
margin_bottom = 3716.0

[node name="Sign1" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_right = 12.0
margin_bottom = 245.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign1"]
margin_bottom = 245.0
texture = ExtResource( 13 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign1"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 245.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Bebé"
fit_content_height = true

[node name="Sign2" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_top = 249.0
margin_right = 12.0
margin_bottom = 1474.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign2"]
margin_bottom = 1225.0
texture = ExtResource( 16 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign2"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 1225.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Persona con discapacidad"
fit_content_height = true

[node name="Sign3" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_top = 1478.0
margin_right = 12.0
margin_bottom = 2164.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign3"]
margin_bottom = 686.0
texture = ExtResource( 8 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign3"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 686.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Persona mayor"
fit_content_height = true

[node name="Sign4" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_top = 2168.0
margin_right = 12.0
margin_bottom = 3148.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign4"]
margin_bottom = 980.0
texture = ExtResource( 9 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign4"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 980.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Agua demasiado alta"
fit_content_height = true

[node name="Sign5" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_top = 3152.0
margin_right = 12.0
margin_bottom = 5357.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign5"]
margin_bottom = 2205.0
texture = ExtResource( 10 )
expand = true
stretch_mode = 5

[node name="Icon2" type="TextureRect" parent="Help/TextSigns/SignList/Sign5"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 2205.0
texture = ExtResource( 12 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign5"]
margin_left = 8.0
margin_right = 8.0
margin_bottom = 2205.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Tienen o no lugar alto (techo o planta alta)"
fit_content_height = true
scroll_active = false

[node name="Sign6" type="HBoxContainer" parent="Help/TextSigns/SignList"]
margin_top = 5361.0
margin_right = 12.0
margin_bottom = 6488.0

[node name="Icon" type="TextureRect" parent="Help/TextSigns/SignList/Sign6"]
margin_bottom = 1127.0
texture = ExtResource( 11 )
expand = true
stretch_mode = 5

[node name="Icon2" type="TextureRect" parent="Help/TextSigns/SignList/Sign6"]
margin_left = 4.0
margin_right = 4.0
margin_bottom = 1127.0
texture = ExtResource( 14 )
expand = true
stretch_mode = 5

[node name="Icon3" type="TextureRect" parent="Help/TextSigns/SignList/Sign6"]
margin_left = 8.0
margin_right = 8.0
margin_bottom = 1127.0
texture = ExtResource( 15 )
expand = true
stretch_mode = 5

[node name="Description" type="RichTextLabel" parent="Help/TextSigns/SignList/Sign6"]
margin_left = 12.0
margin_right = 12.0
margin_bottom = 1127.0
rect_clip_content = false
custom_fonts/normal_font = ExtResource( 1 )
text = "Quedan 1/2/+3 personas"
fit_content_height = true

[node name="Button" parent="Help" instance=ExtResource( 30 )]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = -98.4126
margin_top = -77.622
margin_right = -18.4126
margin_bottom = -47.622
rect_min_size = Vector2( 90, 30 )
text = "Seguir"

[node name="FinishLevel" parent="." instance=ExtResource( 29 )]

[node name="Triggers" type="Node2D" parent="."]

[node name="TurnOnWater" type="Area2D" parent="Triggers"]
position = Vector2( 0, 280.443 )
collision_layer = 0
collision_mask = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/TurnOnWater"]
position = Vector2( 258.064, 222.535 )
shape = SubResource( 1 )

[node name="NextHelp" type="Area2D" parent="Triggers"]
collision_layer = 0
collision_mask = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/NextHelp"]
position = Vector2( 258.064, 222.535 )
shape = SubResource( 1 )

[node name="NextHelp2" type="Area2D" parent="Triggers"]
position = Vector2( 0, -230.305 )
collision_layer = 0
collision_mask = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/NextHelp2"]
position = Vector2( 200, -950 )
shape = SubResource( 1 )

[node name="NextHelp3" type="Area2D" parent="Triggers"]
position = Vector2( 0, -1309.85 )
collision_layer = 0
collision_mask = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/NextHelp3"]
position = Vector2( 200, -950 )
shape = SubResource( 1 )

[node name="NextHelp4" type="Area2D" parent="Triggers"]
position = Vector2( 0, -1525.61 )
collision_layer = 0
collision_mask = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/NextHelp4"]
position = Vector2( 200, -950 )
shape = SubResource( 1 )

[connection signal="person_safe" from="Boat" to="." method="_on_Boat_person_safe"]
[connection signal="b_pressed" from="Help/Button" to="." method="_on_Button_b_pressed"]
[connection signal="back_button_pressed" from="FinishLevel" to="." method="_on_FinishLevel_back_button_pressed"]
[connection signal="next_button_pressed" from="FinishLevel" to="." method="_on_FinishLevel_next_button_pressed"]
[connection signal="body_entered" from="Triggers/TurnOnWater" to="." method="_on_TurnOnWater_body_entered"]
[connection signal="body_entered" from="Triggers/NextHelp" to="." method="_on_NextHelp_body_entered"]
[connection signal="body_entered" from="Triggers/NextHelp2" to="." method="_on_NextHelp_body_entered"]
[connection signal="body_entered" from="Triggers/NextHelp3" to="." method="_on_NextHelp_body_entered"]
[connection signal="body_entered" from="Triggers/NextHelp4" to="." method="_on_NextHelp_body_entered"]
